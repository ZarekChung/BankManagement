@model IEnumerable<BankManagement.Models.客戶聯絡人>

@{
    ViewBag.Title = "Index";
    IEnumerable<SelectListItem> JobTitle = ViewBag.JobTitle;
}

<h2>Index</h2>
@{
    if (TempData["客戶聯絡人Item"] != null)
    {
        var pd = TempData["客戶聯絡人Item"] as BankManagement.Models.客戶聯絡人;
        <pre> @pd.姓名 資料已更新</pre>

    }

}
<p>

    @Html.ActionLink("Create New", "Create")
</p>
<p>
    @using (Html.BeginForm("Index", "Customers"))
    {
   @* @Html.DropDownListFor(model => JobTitle,null, "--請選擇職稱--", new { @class = "form-control",onchange = "  $('#hidSelected').val(this.value); form.submit();" })*@
      @Html.DropDownList("JobTitle", null, "--請選擇職稱--", new { @class = "form-control", onchange = "  $('#hidSelected').val(JobTitle.value); form.submit();" }) 
      @Html.Hidden("hidSelected")


     }
</p>
  


<table class="table" id="customer">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.職稱)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.姓名)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Email)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.手機)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.電話)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.客戶資料.客戶名稱)
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.職稱)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.姓名)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Email)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.手機)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.電話)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.客戶資料.客戶名稱)
                </td>
                <td>
                    @Html.ActionLink("Edit", "Edit", new { id = item.Id }) |
                    @Html.ActionLink("Details", "Details", new { id = item.Id }) |
                    @Html.ActionLink("Delete", "Delete", new { id = item.Id }, new { onclick = "return confirm('確定要刪除該筆資料 ?');" })
                </td>
            </tr>
        }
    </tbody>
</table>


@section scripts
{
    <script>
        $(document).ready(function () {
            $('#customer').DataTable({
                "paging": false,
                "info": false
            });
        });
    </script>

}
